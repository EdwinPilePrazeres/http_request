{"version":3,"sources":["containers/Blog/NewPost/NewPost.module.css","containers/Blog/NewPost/NewPost.js"],"names":["module","exports","NewPost","state","title","content","author","submitted","postDataHandler","data","body","axios","post","then","response","console","log","props","history","replace","this","redirect","to","className","classes","type","value","onChange","event","setState","target","rows","onClick","Component"],"mappings":"gGACAA,EAAOC,QAAU,CAAC,QAAU,2B,gICKtBC,E,4MACFC,MAAQ,CACJC,MAAO,GACPC,QAAS,GACTC,OAAQ,QACRC,WAAW,G,EAQfC,gBAAkB,WACd,IAAMC,EAAO,CACTL,MAAO,EAAKD,MAAMC,MAClBM,KAAM,EAAKP,MAAME,QACjBC,OAAQ,EAAKH,MAAMG,QAEvBK,IAAMC,KAAK,SAAUH,GAChBI,MAAK,SAAAC,GACFC,QAAQC,IAAIF,GACZ,EAAKG,MAAMC,QAAQC,QAAQ,c,kEAZnCJ,QAAQC,IAAII,KAAKH,S,+BAiBV,IAAD,OACFI,EAAW,KAIf,OAHID,KAAKjB,MAAMI,YACXc,EAAW,cAAC,IAAD,CAAUC,GAAG,YAGxB,sBAAKC,UAAWC,IAAQtB,QAAxB,UACKmB,EACD,4CACA,0CACA,uBAAOI,KAAK,OAAOC,MAAON,KAAKjB,MAAMC,MAAOuB,SAAU,SAACC,GAAD,OAAW,EAAKC,SAAS,CAACzB,MAAOwB,EAAME,OAAOJ,WACpG,4CACA,0BAAUK,KAAK,IAAIL,MAAON,KAAKjB,MAAME,QAASsB,SAAU,SAACC,GAAD,OAAW,EAAKC,SAAS,CAACxB,QAASuB,EAAME,OAAOJ,WACxG,2CACA,yBAAQA,MAAON,KAAKjB,MAAMG,OAAQqB,SAAU,SAACC,GAAD,OAAW,EAAKC,SAAS,CAACvB,OAAQsB,EAAME,OAAOJ,SAA3F,UACI,wBAAQA,MAAM,MAAd,mBACA,wBAAQA,MAAM,OAAd,qBAEJ,wBAAQM,QAASZ,KAAKZ,gBAAtB,6B,GA7CMyB,aAmDP/B","file":"static/js/3.a187a87f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewPost\":\"NewPost_NewPost__2SeR2\"};","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport classes from './NewPost.module.css';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass NewPost extends Component {\r\n    state = {\r\n        title: '',\r\n        content: '',\r\n        author: 'Edwin',\r\n        submitted: false\r\n    }\r\n\r\n    componentDidMount () {\r\n        // if unauth => this.props.history.replace('/posts')\r\n        console.log(this.props);\r\n    }\r\n\r\n    postDataHandler = () => {\r\n        const data = {\r\n            title: this.state.title,\r\n            body: this.state.content,\r\n            author: this.state.author\r\n        };\r\n        axios.post('/posts', data)\r\n            .then(response => {\r\n                console.log(response);\r\n                this.props.history.replace('/posts');\r\n                // this.setState({submitted: true})\r\n            });\r\n    }\r\n\r\n    render () {\r\n        let redirect = null;\r\n        if (this.state.submitted) {\r\n            redirect = <Redirect to=\"/posts\" />\r\n        }\r\n        return (\r\n            <div className={classes.NewPost}>\r\n                {redirect}\r\n                <h1>Add a Post</h1>\r\n                <label>Title</label>\r\n                <input type=\"text\" value={this.state.title} onChange={(event) => this.setState({title: event.target.value})} />\r\n                <label>Content</label>\r\n                <textarea rows=\"4\" value={this.state.content} onChange={(event) => this.setState({content: event.target.value})} />\r\n                <label>Author</label>\r\n                <select value={this.state.author} onChange={(event) => this.setState({author: event.target.value})}>\r\n                    <option value=\"Max\">Edwin</option>\r\n                    <option value=\"Manu\">Rafa</option>\r\n                </select>\r\n                <button onClick={this.postDataHandler}>Add Post</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewPost;"],"sourceRoot":""}