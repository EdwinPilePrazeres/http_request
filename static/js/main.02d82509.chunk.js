(this.webpackJsonphttp_request=this.webpackJsonphttp_request||[]).push([[0],{17:function(t,e,n){t.exports={Post:"Post_Post__3C_ZM",Author:"Post_Author__2tOy_"}},18:function(t,e,n){t.exports={FullPost:"FullPost_FullPost__23jwg",Edit:"FullPost_Edit__35h2-",Delete:"FullPost_Delete__2X7Op"}},33:function(t,e,n){t.exports={Blog:"Blog_Blog__2p3IZ",active:"Blog_active__2wnLJ"}},34:function(t,e,n){t.exports={Posts:"Posts_Posts__1kugU"}},41:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var o=n(1),s=n(0),c=n(32),a=n.n(c),r=(n(41),n(8)),i=n(9),l=n(11),u=n(10),h=n(14),d=n(2),p=n(33),j=n.n(p),f=n(16),b=n(12),O=n.n(b),v=O.a.create({baseURL:"https://jsonplaceholder.typicode.com"});v.defaults.headers.common.Authorization="AUTH TOKEN FROM INSTANCE";var m=v,x=n(17),g=n.n(x),y=function(t){return Object(o.jsxs)("article",{className:g.a.Post,onClick:t.clicked,children:[Object(o.jsx)("h1",{children:t.title}),Object(o.jsx)("div",{className:g.a.Info,children:Object(o.jsx)("div",{className:g.a.Author,children:t.author})})]})},w=n(34),P=n.n(w),_=n(18),k=n.n(_),N=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={loadedPost:null},t.deletePostHandler=function(){O.a.delete("/posts/"+t.props.match.params.id).then((function(t){console.log(t)}))},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props),this.loadData()}},{key:"componentDidUpdate",value:function(){this.loadData()}},{key:"loadData",value:function(){var t=this;this.props.match.params.id&&(!this.state.loadedPost||this.state.loadedPost&&this.state.loadedPost.id!==+this.props.match.params.id)&&O.a.get("/posts/"+this.props.match.params.id).then((function(e){t.setState({loadedPost:e.data})}))}},{key:"render",value:function(){var t=Object(o.jsx)("p",{style:{textAlign:"center"},children:"Please select a Post!"});return this.props.match.params.id&&(t=Object(o.jsx)("p",{style:{textAlign:"center"},children:"Loading...!"})),this.state.loadedPost&&(t=Object(o.jsxs)("div",{className:k.a.FullPost,children:[Object(o.jsx)("h1",{children:this.state.loadedPost.title}),Object(o.jsx)("p",{children:this.state.loadedPost.body}),Object(o.jsx)("div",{className:k.a.Edit,children:Object(o.jsx)("button",{onClick:this.deletePostHandler,className:k.a.Delete,children:"Delete"})})]})),t}}]),n}(s.Component),A=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={posts:[]},t.postSelectedHandler=function(e){t.props.history.push("/posts/"+e)},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;console.log(this.props),m.get("/posts").then((function(e){var n=e.data.slice(0,4).map((function(t){return Object(f.a)(Object(f.a)({},t),{},{author:"Max"})}));t.setState({posts:n})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=Object(o.jsx)("p",{style:{textAlign:"center"},children:"Something went wrong!"});return this.state.error||(e=this.state.posts.map((function(e){return Object(o.jsx)(y,{title:e.title,author:e.author,clicked:function(){return t.postSelectedHandler(e.id)}},e.id)}))),Object(o.jsxs)("div",{children:[Object(o.jsx)("section",{className:P.a.Posts,children:e}),Object(o.jsx)(d.b,{path:this.props.match.url+"/:id",exact:!0,component:N})]})}}]),n}(s.Component),C=function(t){return function(e){Object(l.a)(s,e);var n=Object(u.a)(s);function s(){var t;Object(r.a)(this,s);for(var e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))).state={component:null},t}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({component:t.default})}))}},{key:"render",value:function(){var t=this.state.component;return t?Object(o.jsx)(t,Object(f.a)({},this.props)):null}}]),s}(s.Component)}((function(){return n.e(3).then(n.bind(null,66))})),D=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={auth:!0},t}return Object(i.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:j.a.Blog,children:[Object(o.jsx)("header",{children:Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(h.b,{to:"/posts/",exact:!0,activeClassName:"my-active",activeStyle:{color:"#fa923f",textDecoration:"underline"},children:"Posts"})}),Object(o.jsx)("li",{children:Object(o.jsx)(h.b,{to:{pathname:"/new-post",hash:"#submit",search:"?quick-submit=true"},children:"New Post"})})]})})}),Object(o.jsxs)(d.d,{children:[this.state.auth?Object(o.jsx)(d.b,{path:"/new-post",component:C}):null,Object(o.jsx)(d.b,{path:"/posts",component:A}),Object(o.jsx)(d.b,{render:function(){return Object(o.jsx)("h1",{children:"Not Found"})}})]})]})}}]),n}(s.Component),E=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(o.jsx)(h.a,{children:Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(D,{})})})}}]),n}(s.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}O.a.defaults.headers.post["Content-Type"]="application/json",O.a.interceptors.request.use((function(t){return t}),(function(t){return console.log(t),Promise.reject(t)})),O.a.interceptors.response.use((function(t){return console.log(t),t}),(function(t){return console.log(t),Promise.reject(t)})),a.a.render(Object(o.jsx)(E,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/http_request",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/http_request","/service-worker.js");F?function(t){fetch(t).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):S(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):S(t)}))}}()}},[[64,1,2]]]);
//# sourceMappingURL=main.02d82509.chunk.js.map